{
    "componentChunkName": "component---node-modules-gatsby-theme-blog-ocean-src-templates-post-query-js",
    "path": "/posts/introducing-gatsby-theme-blog-ocean/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Howyoung's Blog","social":[{"name":"GitHub","url":"https://github.com/HowyoungZhou"},{"name":"Email","url":"mailto:me@howyoung.dev"}]}},"blogPost":{"id":"21671bcf-35a9-5170-a574-fdbc3acc5cd4","excerpt":"Introducing Gatsby Theme Blog Ocean Recently, I refactored the blog to reorganize the structure of the project and bump the main dependencies, Gatsby and MUI (Material UI), to the latest version. I…","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Introducing Gatsby Theme Blog Ocean\",\n  \"date\": \"2022-02-10T00:00:00.000Z\",\n  \"image\": \"../../assets/blog-ocean.png\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"introducing-gatsby-theme-blog-ocean\"\n  }, \"Introducing Gatsby Theme Blog Ocean\"), mdx(\"p\", null, \"Recently, I refactored the blog to reorganize the structure of the project and bump the main dependencies, Gatsby and MUI (Material UI), to the latest version. I packaged it as a Gatsby theme \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.gatsbyjs.com/plugins/gatsby-theme-blog-ocean/\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"gatsby-theme-blog-ocean\")), \", which can be reused to build your own blog and homepage! In this post, I will share more about the update to the blog.\"), mdx(\"h2\", {\n    \"id\": \"improvements-to-the-ui--ux-design\"\n  }, \"Improvements to the UI & UX Design\"), mdx(\"p\", null, \"While refactoring the blog, I also made some small improvements to the user interface and experience. I replaced the grid layout of the cards on the home page with the experimental \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://mui.com/components/masonry/\"\n  }, \"Masonry\"), \" component from MUI, which provides a better layout when the height of cards varies. I am still considering a new look of the home page with better visual effects add more elements.\"), mdx(\"p\", null, \"Other improvements include:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The table of contents was redesigned so that the current section you are reading will be highlighted.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The app bar now looks better on devices with smaller screens. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The language menu now displays the names of languages in the current language and the target language.\")), mdx(\"h2\", {\n    \"id\": \"technical-updates\"\n  }, \"Technical Updates\"), mdx(\"h3\", {\n    \"id\": \"mui-5\"\n  }, \"MUI 5\"), mdx(\"p\", null, \"After a long time of testing, MUI 5 has been released finally. One of the breaking changes is the deprecation of JSS embracing styled components, which looks good to me since it allows us to reuse the style better. Arguments are also allowed to be passed to customize the styled element.\"), mdx(\"p\", null, \"When migrating to MUI 5, I rewrote most of the code to adapt to styled components. I also adjusted the structure of some of the components for a smaller granularity, leading to more flexibility to reuse and customize them.\"), mdx(\"p\", null, \"For example, now the banner on the home page can be implemented using the code below. The background can be easily changed by passing the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"background\"), \" props to the component.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"const StyledAppBar = styled(AppBar)<{ background?: string }>(({ background }) => ({\\n  color: '#fff',\\n  minHeight: '45vh',\\n  display: 'flex',\\n  justifyContent: 'space-between',\\n  background: background\\n}));\\n\")), mdx(\"h3\", {\n    \"id\": \"gatsby-4\"\n  }, \"Gatsby 4\"), mdx(\"p\", null, \"Gatsby has also published a new major version - Gatsby 4, with a bunch of new features and improvements. This site is a simple statically generated site, so I did not use some new features in Gatsby 4 like Server-Side Rendering. But I am considering enabling Deferred Static Generation when the blog grows larger and the building time becomes too long. Additionally, thanks to the Parallel Query Running, the building time of the site has been half a minute shorter.\"), mdx(\"h3\", {\n    \"id\": \"yarn-3\"\n  }, \"Yarn 3\"), mdx(\"p\", null, \"I also migrated to the modern version of Yarn as the package manager of the theme and the blog. Yarn now supports \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://nodejs.org/dist/latest/docs/api/corepack.html\"\n  }, \"Corepack\"), \", a new binary shipped with Node.js to manage package managers. So after running \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn set version stable\"), \", the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"packageManager\"), \" property will be set in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package.json\"), \".\"), mdx(\"p\", null, \"The good news from modern Yarn is that it gets rid of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \", the second most massive object in the universe. This is realized through the feature \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://yarnpkg.com/features/pnp\"\n  }, \"Plug\\u2019n\\u2019Play (PnP)\"), \". Yarn in PnP mode saves each dependent package in a single zip file, and provides Node with a virtual path to the files in the package. Yarn hacked the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fs\"), \" module in Node so that when Node seems to read the file under that virtual path, it actually read directly from the zip file. This dramatically decreases the number of package files, which speeds up package installing with less I/O operations. Yarn even recommends committing zipped packages to the version control system so that once you pull the code and packages from it, you can run it without installing dependencies. This feature is called \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://yarnpkg.com/features/zero-installs\"\n  }, \"Zero-Installs\"), \".\"), mdx(\"p\", null, \"Unfortunately here comes the bad news, since the patch to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fs\"), \" by Yarn is not perfect. When a dependency expects the existence of a real path under the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"node_modules\"), \", the PnP mode will become incompatible. Gatsby \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/gatsbyjs/gatsby/blob/d94c8e48a3640b59423c37da1439531ab0c023ec/packages/gatsby/src/redux/actions/public.js#L328\"\n  }, \"uses\"), \" \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true-case-path\"), \" to normalize the path so that the file name remains the same case as in the file system. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true-case-path\"), \" \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/Profiscience/true-case-path/blob/8a016e6a8be64c873aba414fbcdb4748e24dc796/index.js#L89\"\n  }, \"uses\"), \" \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fs.readdir\"), \" to find contents in a directory and recursively replaces each segment of the given path to the normalized version. Sadly, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fs.readdir\"), \" was not patched by Yarn. This issue should be the last obstacle for our theme to migrate to PnP.\"), mdx(\"p\", null, \"The CLI of Yarn has also been changed slightly. Some commands are now provided through plugins, which should be imported first. For example, to update the version of a package, you need to use:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"yarn plugin import version # run only once\\nyarn version major # or minor, patch, etc.\\n\")), mdx(\"p\", null, \"To publish a package to NPM using a CI/CD system, you can use:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"yarn config set npmAuthToken $NPM_TOKEN\\nyarn config set npmAlwaysAuth true\\nyarn install\\nyarn npm publish\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"/posts/introducing-gatsby-theme-blog-ocean/","title":"Introducing Gatsby Theme Blog Ocean","tags":[],"date":"February 10, 2022","image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABp0lEQVQoz42Sv08TYRjH749w09EF4qCDEwOLVFcTJ4UU2JidGWQjMSERSVpIAIFVKaibqy62HEpN0BACvV7F0Pt9vXLp+/oxd9fA9VoShyff533yfT553ud9Fc2VZKPmRCG6uejJB/nTofTDrgCnKcD/wPqAWdhvT3JsC07sXvBp15eOa4Fp2DdDsHAYcmgJ6t16w5Oc+ddPPPDKUVP1XDD7+YIlNeRnU9AMZAzdO+vwtdGJ80G7VfpHT+Lx2xY3X7ncWnS5v+az/j2k3fkbA0e3fDYOwnjS7PWV3teU6J7klyG4s+IxVPS4XfC4sZCAJ3YDnrxrsayGsS/7G+IJ65ndaY6k4Quef2pzb9VjuOgzsukzVPC5u+ox/+WCPy2J7kpOnKvdRn2RKm90ixXNZL1uUdRMNvRE1zSLl8cGcz9M5o+avKiavK4ZlM5tlmoGm7pFQTOJ+pcjfz1RJa/aTFQc8ns24xWHSdXmWdllej86u8wc2IyXXWaqST2vWjwtu0ypSX0y0688fB+Q2wm41A9tcqVEH2wH5FI6th3w6GObsVLa19v/D1nkCLIsLn7VAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/bca83a5419a83bb843f0444eba1e6b88/2c808/blog-ocean.png","srcSet":"/static/bca83a5419a83bb843f0444eba1e6b88/47126/blog-ocean.png 800w,\n/static/bca83a5419a83bb843f0444eba1e6b88/1624f/blog-ocean.png 1600w,\n/static/bca83a5419a83bb843f0444eba1e6b88/2c808/blog-ocean.png 3200w","sizes":"(min-width: 3200px) 3200px, 100vw"},"sources":[{"srcSet":"/static/bca83a5419a83bb843f0444eba1e6b88/5359d/blog-ocean.avif 800w,\n/static/bca83a5419a83bb843f0444eba1e6b88/93b1c/blog-ocean.avif 1600w,\n/static/bca83a5419a83bb843f0444eba1e6b88/f6f7f/blog-ocean.avif 3200w","type":"image/avif","sizes":"(min-width: 3200px) 3200px, 100vw"},{"srcSet":"/static/bca83a5419a83bb843f0444eba1e6b88/b2a35/blog-ocean.webp 800w,\n/static/bca83a5419a83bb843f0444eba1e6b88/e9d78/blog-ocean.webp 1600w,\n/static/bca83a5419a83bb843f0444eba1e6b88/a6352/blog-ocean.webp 3200w","type":"image/webp","sizes":"(min-width: 3200px) 3200px, 100vw"}]},"width":3200,"height":1800}}},"imageAlt":null,"imageCaptionText":null,"imageCaptionLink":null,"socialImage":null,"tableOfContents":{"items":[{"url":"#introducing-gatsby-theme-blog-ocean","title":"Introducing Gatsby Theme Blog Ocean","items":[{"url":"#improvements-to-the-ui--ux-design","title":"Improvements to the UI & UX Design"},{"url":"#technical-updates","title":"Technical Updates","items":[{"url":"#mui-5","title":"MUI 5"},{"url":"#gatsby-4","title":"Gatsby 4"},{"url":"#yarn-3","title":"Yarn 3"}]}]}]}},"previous":{"id":"518868b5-eb93-5cc3-87ef-18c8fad09f7c","excerpt":"Hello World Have a look at my new blog built with modern frontend technologies! This website is built with Gatsby and Material UI. Here are some highlights: Generate Posts from Markdown Posts can be…","slug":"/posts/hello/","title":"Hello World","date":"May 02, 2021"},"next":{"id":"b1698158-99e3-5193-a41f-582c4c3e50da","excerpt":"About Me Haoyang Zhou (周浩洋) me@howyoung.dev  |  https://howyoung.dev ETH Zürich, Rämistrasse 101, 8092 Zurich, Switzerland I am a Master's student in  Robotics, Systems and Control  learning at  ETH…","slug":"/about-me/","title":"About Me","date":"February 04, 2021"},"locales":{"edges":[{"node":{"ns":"translation","data":"{\"About Me\":\"About Me\",\"Built with <1></1> by {{author}}.\":\"Built with <1></1> by {{author}}.\",\"Contents\":\"Contents\",\"Dark\":\"Dark\",\"Home\":\"Home\",\"Language\":\"Language\",\"Light\":\"Light\",\"Menu\":\"Menu\",\"No more posts at now.\":\"No more posts at now.\",\"Posts\":\"Posts\",\"RSS Feed\":\"RSS Feed\",\"System Default\":\"System Default\",\"The theme is designed by <1>Howyoung</1> and powered by <3></3> Gatsby and <5></5> Material UI.\":\"The theme is designed by <1>Howyoung</1> and powered by <3></3> Gatsby and <5></5> Material UI.\",\"Theme\":\"Theme\",\"banner.greeting\":\"Hi! I'm {{ author }}.\",\"banner.introduction\":\"I'm a tech enthusiast learning computer science currently.\"}","language":"en"}}]}},"pageContext":{"id":"21671bcf-35a9-5170-a574-fdbc3acc5cd4","previousId":"518868b5-eb93-5cc3-87ef-18c8fad09f7c","language":"en","i18n":{"language":"en","languages":["en","zh","ja"],"defaultLanguage":"en","generateDefaultLanguagePage":false,"routed":false,"originalPath":"/posts/introducing-gatsby-theme-blog-ocean/","path":"/posts/introducing-gatsby-theme-blog-ocean/"}}},
    "staticQueryHashes": ["440568431","630139967","63159454"]}